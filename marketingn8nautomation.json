{
  "name": "Bonn Automation",
  "nodes": [
    {
      "parameters": {
        "content": "# Step 1 â€” Generate prompts from Telegram input\n## Bonn Nutrient Pvt Ltd - Automated Video Ad Creation\n### AI-Powered Marketing Automation for Nutrient Products\nCreating compelling video ads for nutritional supplements and wellness products requires significant time and resources. This workflow **automates the complete production pipeline** â€” from product concept to ready-to-publish video advertisements â€” enabling Bonn Nutrient Pvt Ltd to rapidly deploy high-quality marketing campaigns across all social channels.",
        "height": 624,
        "width": 1948,
        "color": 7
      },
      "id": "172c7316-350a-46a8-a720-f0be6b22cff0",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [928, 240],
      "typeVersion": 1
    },
    {
      "parameters": {
        "resource": "file",
        "fileId": "={{ $json.message.photo[2].file_id }}",
        "additionalFields": {}
      },
      "id": "b5e1088e-f59b-48c0-bad0-65887aa9e37b",
      "name": "Telegram: Get Image File",
      "type": "n8n-nodes-base.telegram",
      "position": [1312, 512],
      "webhookId": "TELEGRAM_WEBHOOK_ID",
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "updates": ["message"],
        "additionalFields": {}
      },
      "id": "7fd471ae-4ef4-436c-b476-b98cc8848cea",
      "name": "Trigger: Receive Idea via Telegram",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [1040, 512],
      "webhookId": "TELEGRAM_WEBHOOK_ID_TRIGGER",
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "name": "={{ $('Trigger: Receive Idea via Telegram').item.json.message.photo[2].file_unique_id }}",
        "driveId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_DRIVE_ID"
        },
        "folderId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_DRIVE_FOLDER_ID"
        },
        "options": {}
      },
      "id": "00e2b4cb-7184-4068-a752-df588e48940d",
      "name": "Google Drive: Upload Image",
      "type": "n8n-nodes-base.googleDrive",
      "position": [1600, 512],
      "typeVersion": 3
    },
    {
      "parameters": {
        "jsCode": "const text = $('Trigger: Receive Idea via Telegram').first().json.message.caption;\nconst parts = text.split(';').map(part => part.trim());\nreturn {\nimagePrompt: parts[0],\nvideoPrompt: parts[1]\n};"
      },
      "id": "51fa2428-83e5-469e-9fbd-e6b74e7fdf35",
      "name": "Parse Idea Into Prompts",
      "type": "n8n-nodes-base.code",
      "position": [2032, 512],
      "typeVersion": 2
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Your task is to create an image prompt following the system guidelines.  \nEnsure that the reference image is represented as **accurately as possible**, including all text elements.  \n\nUse the following inputs:  \n\n- **User's description:**  \n{{ $json.imagePrompt }}\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a helpful assistant\nROLE: UGC Image Prompt Builder  \n\nGOAL:  \nGenerate one concise, natural, and realistic image prompt (â‰¤120 words) from a given product or reference image. The prompt must simulate authentic UGC (user-generated content) photography.  \n\nRULES:  \nYou must always create a professional background for the product image. You must never return the image with a plain white or empty background. The background must always enhance and highlight the product in the photo.\n\n- Always output **one JSON object only** with the key:  \n  - `image_prompt`: (string with full description)  \n- Do **not** add commentary, metadata, or extra keys. JSON only.\n- User node think to be creative\n\nSTYLE GUIDELINES:  \n- Tone: casual, unstaged, lifelike, handheld snapshot.  \n- Camera cues: include at least 2â€“3 (e.g., phone snapshot, handheld framing, off-center composition, natural indoor light, soft shadows, slight motion blur, auto exposure, unpolished look, mild grain).  \n- Realism: embrace imperfections (wrinkles, stray hairs, skin texture, clutter, smudges).  \n- Packaging/Text: preserve exactly as visible. Never invent claims, numbers, or badges.  \n- Diversity: if people appear but are unspecified, vary gender/ethnicity naturally; default age range = 21â€“38.  \n- Setting: default to real-world everyday spaces (home, street, store, gym, office).  \n\nSAFETY:  \n- No copyrighted character names.  \n- No dialogue or scripts. Only describe scenes.\n\nOUTPUT CONTRACT:  \n- JSON only, no prose outside.  \n- Max 120 words in `image_prompt`.  \n- Must cover: subject, action, mood, setting, background, style/camera, colors, and text accuracy."
        }
      },
      "id": "5c8efdcc-c697-412e-be62-1f31528075e5",
      "name": "Generate Image Prompt",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [2432, 512],
      "typeVersion": 2.2
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"image_prompt\": \"string\"\n}"
      },
      "id": "749d97b2-bdc0-4b0d-a608-3860f8bc19a0",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [2688, 736],
      "typeVersion": 1.3
    },
    {
      "parameters": {},
      "id": "49ebe3b4-175c-480b-a78b-32a86b772c11",
      "name": "Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "position": [2528, 736],
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini",
          "cachedResultName": "GPT-4O-MINI"
        },
        "options": {}
      },
      "id": "6c14c0c2-425f-43a4-ac53-9a1110e24aef",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [2352, 736],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://queue.fal.run/fal-ai/nano-banana/edit",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n\t\"prompt\": \"{{ $json[\"output.image_prompt\"].replace(/\\\"/g, '\\\\\\\"').replace(/\\n/g, '\\\\n') }}\",\n\t\"image_urls\": [\"{{ $('Google Drive: Upload Image').item.json.webContentLink }}\"]\n}\n",
        "options": {}
      },
      "id": "2b8bb026-a1a0-4f6a-952b-c66458be98ca",
      "name": "NanoBanana: Create Image",
      "type": "n8n-nodes-base.httpRequest",
      "position": [3184, 336],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "content": "# Step 2 â€” Generate Product Images\nCreate nutrient product visuals using Seedream 4.0, NanoBanana, and ChatGPT Image Generation",
        "height": 624,
        "width": 1884,
        "color": 3
      },
      "id": "6d574d77-e737-46b2-a79c-02518d8a2a9e",
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "position": [2848, 240],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# Step 3 â€” Produce Promotional Videos\nGenerate high-quality video advertisements using Veo 3 AI video generation",
        "height": 432,
        "width": 1920,
        "color": 7
      },
      "id": "143c8983-02c7-4001-8bdf-9d69cbc77169",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [928, 896],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# Step 4 â€” Compile Final Advertisement\nMerge multiple video sequences into one polished final advertisement ready for distribution",
        "height": 432,
        "width": 1884,
        "color": 7
      },
      "id": "83dfe606-fca2-43a9-ad65-1c552899c739",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [2848, 896],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "# Step 5 â€” Multi-Channel Distribution\nPublish Bonn Nutrient advertisements across Instagram, TikTok, YouTube, LinkedIn, Facebook, Twitter, Pinterest, Threads, and Bluesky",
        "height": 608,
        "width": 3804
      },
      "id": "6fb4ed26-d430-493a-a5ef-ecf993d7dca5",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [928, 1360],
      "typeVersion": 1
    },
    {
      "parameters": {
        "url": "={{ $json['URL FINAL VIDEO'] }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "id": "c35fcc2f-d3d1-4d83-8efb-6e8cf21d82fa",
      "name": "Check Merge Status",
      "type": "n8n-nodes-base.httpRequest",
      "position": [4304, 1008],
      "typeVersion": 4.2
    },
    {
      "parameters": {
        "amount": 2
      },
      "id": "37ef1072-100c-469e-a26d-22843dc2f657",
      "name": "Wait: Merge Process",
      "type": "n8n-nodes-base.wait",
      "position": [3776, 1008],
      "webhookId": "WAIT_WEBHOOK_ID",
      "typeVersion": 1.1
    },
    {
      "parameters": {
        "name": "={{ $('Trigger: Receive Idea via Telegram').first().json.message.photo[2].file_unique_id }}",
        "driveId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_DRIVE_ID"
        },
        "folderId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_DRIVE_FOLDER_ID"
        },
        "options": {}
      },
      "id": "55d047f8-bb1c-4b79-ad10-9edb049f5807",
      "name": "Upload Final Video to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "position": [4560, 1008],
      "typeVersion": 3
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_SHEETS_ID"
        },
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "SHEET_NAME"
        },
        "options": {}
      },
      "id": "f6490202-896a-4a21-9689-ed0189da6863",
      "name": "Read Brand Settings",
      "type": "n8n-nodes-base.googleSheets",
      "position": [1040, 1584],
      "typeVersion": 4.7
    },
    {
      "parameters": {
        "jsCode": "const allRows = $input.all();\nreturn [{\njson: {\nproductName: allRows[0].json.col_2,\nproductCategory: allRows[1].json.col_2,\nmainOffer: allRows[2].json.col_2,\nkeyFeature1: allRows[3].json.col_2,\nkeyFeature2: allRows[4].json.col_2,\nwebsiteURL: allRows[5].json.col_2\n}\n}];"
      },
      "id": "8c3750e4-333e-4900-aa8e-97c6b5ce06b9",
      "name": "Extract Brand Info",
      "type": "n8n-nodes-base.code",
      "position": [1280, 1584],
      "typeVersion": 2
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "GPT-4O"
        },
        "messages": {
          "values": [
            {
              "content": "=You are an expert ad copywriter for social media campaigns.\nYour task: Create compelling ad copy following this exact structure:\nðŸš¨ [Attention-grabbing headline with product benefit]\nâœ” [Primary offer/benefit]\nâœ” [Key product feature/quality]\nâœ” [Trust/credibility element]\n[Call to action] â†’ [website/link]\n# Input Variables:\nProduct Name: {{ $json.productName }}\nProduct Category: {{ $json.productCategory }}\nMain Offer: {{ $json.mainOffer }}\nKey Feature 1: {{ $json.keyFeature1 }}\nKey Feature 2: {{ $json.keyFeature2 }}\nWebsite URL: {{ $json.websiteURL }}\nRules:\n- Keep headline under 35 characters\n- Each checkmark line under 40 characters\n- Use power words that create urgency\n- Include specific product benefits, not generic claims\n- CTA must be action-oriented\n- Output ONLY the ad copy text, no explanations\n- No quotes around the text\n- Maintain the emoji structure exactly as shown"
            }
          ]
        },
        "options": {}
      },
      "id": "660b172c-fe62-40ed-84c9-8b0c2aa7739d",
      "name": "Generate Ad Copy",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [1680, 1584],
      "typeVersion": 1.8
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_SHEETS_ID"
        },
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "SHEET_NAME"
        },
        "columns": {
          "value": {
            "ADS TEXT": "={{ $json.message.content }}",
            "ID IMAGE": "={{ $('Trigger: Receive Idea via Telegram').first().json.message.photo[2].file_unique_id }}"
          },
          "schema": [
            {"id": "ID IMAGE", "type": "string", "display": true, "canBeUsedToMatch": true},
            {"id": "ADS TEXT", "type": "string", "display": true}
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": ["ID IMAGE"]
        },
        "options": {}
      },
      "id": "f12ad44b-3078-459d-8a23-b664889cc636",
      "name": "Save Ad Data to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "position": [2208, 1584],
      "typeVersion": 4.7
    },
    {
      "parameters": {
        "chatId": "={{ $('Trigger: Receive Idea via Telegram').first().json.message.chat.id }}",
        "text": "=Video URL: {{ $('Update URL Final video').first().json['URL FINAL VIDEO'] }}",
        "additionalFields": {}
      },
      "id": "f9b4f876-3ce8-4896-9be5-88b76abf7a4b",
      "name": "Send Video URL via Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [2448, 1584],
      "webhookId": "TELEGRAM_WEBHOOK_ID_SEND",
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "operation": "sendVideo",
        "chatId": "={{ $('Trigger: Receive Idea via Telegram').first().json.message.chat.id }}",
        "file": "={{ $('Update URL Final video').first().json['URL FINAL VIDEO'] }}",
        "additionalFields": {}
      },
      "id": "e7452627-f5ea-4083-964b-16832cf53f11",
      "name": "Send Video to Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [2672, 1584],
      "webhookId": "TELEGRAM_WEBHOOK_ID_VIDEO",
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "mode": "chooseBranch",
        "numberInputs": 9
      },
      "id": "77b73727-3d32-41d6-b0ca-03b2ccaca631",
      "name": "Merge Social Platforms",
      "type": "n8n-nodes-base.merge",
      "position": [4304, 1456],
      "typeVersion": 3.2
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "GOOGLE_SHEETS_ID"
        },
        "sheetName": {
          "__rl": true,
          "mode": "id",
          "value": "SHEET_NAME"
        },
        "columns": {
          "value": {
            "STATUS": "DONE",
            "ID IMAGE": "={{ $('Trigger: Receive Idea via Telegram').first().json.message.photo[2].file_unique_id }}"
          },
          "schema": [
            {"id": "ID IMAGE", "type": "string", "display": true, "canBeUsedToMatch": true},
            {"id": "STATUS", "type": "string", "display": true}
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": ["ID IMAGE"]
        },
        "options": {}
      },
      "id": "d2401532-aa7b-45b7-9dc4-2d5f51a32599",
      "name": "Update Status to DONE",
      "type": "n8n-nodes-base.googleSheets",
      "position": [4544, 1568],
      "typeVersion": 4.5
    }
  ],
  "connections": {},
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "bonn-automation-v1",
  "meta": {
    "templateName": "Bonn Automation - Social Media Marketing",
    "description": "End-to-end automation for creating and publishing video ads across multiple social platforms",
    "author": "Bonn Food Automation",
    "tags": ["social-media", "automation", "video-marketing", "multi-platform"]
  },
  "id": "bonn-automation-workflow",
  "tags": ["bonn-automation", "social-media", "marketing"]
}